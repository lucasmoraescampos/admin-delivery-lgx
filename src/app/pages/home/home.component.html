<div class="row">

    <div class="col-md-8">

        <div class="row">

            <div class="col-md-4 animate__animated animate__fadeIn" *ngIf="resume">
                <app-iq-card class="btn-card" [isCardHeader]="false" (click)="navigate('/projects?status=2')">
                    <div class="row">
                        <div class="col-lg-12 mb-2 d-flex justify-content-between">
                            <div class="icon iq-icon-box rounded-circle iq-bg-primary rounded-circle"
                                data-wow-delay="0.2s">
                                <i class="ri-briefcase-line"></i>
                            </div>
                        </div>
                        <div class="col-lg-12 mt-3">
                            <h6 class="card-title text-uppercase text-secondary mb-0">Dispatched Projects</h6>
                            <span class="h2 text-dark mb-0 counter d-inline-block w-100">{{ resume.dispatched_projects }}</span>
                        </div>
                    </div>
                </app-iq-card>
            </div>

            <div class="col-md-4 animate__animated animate__fadeIn" *ngIf="resume">
                <app-iq-card class="btn-card" [isCardHeader]="false" (click)="navigate('/projects?status=3')">
                    <div class="row">
                        <div class="col-lg-12 mb-2 d-flex justify-content-between">
                            <div class="icon iq-icon-box rounded-circle iq-bg-primary rounded-circle"
                                data-wow-delay="0.2s">
                                <i class="ri-briefcase-line"></i>
                            </div>
                        </div>
                        <div class="col-lg-12 mt-3">
                            <h6 class="card-title text-uppercase text-secondary mb-0">Completed Projects</h6>
                            <span class="h2 text-dark mb-0 counter d-inline-block w-100">{{ resume.completed_projects }}</span>
                        </div>
                    </div>
                </app-iq-card>
            </div>

            <div class="col-md-4 animate__animated animate__fadeIn" *ngIf="resume">
                <app-iq-card class="btn-card" [isCardHeader]="false" (click)="navigate('/drivers?status=1')">
                    <div class="row">
                        <div class="col-lg-12 mb-2 d-flex justify-content-between">
                            <div class="icon iq-icon-box rounded-circle iq-bg-primary rounded-circle"
                                data-wow-delay="0.2s">
                                <i class="ri-truck-line"></i>
                            </div>
                        </div>
                        <div class="col-lg-12 mt-3">
                            <h6 class="card-title text-uppercase text-secondary mb-0">Drivers Under Review</h6>
                            <span class="h2 text-dark mb-0 counter d-inline-block w-100">{{ resume.drivers_under_review }}</span>
                        </div>
                    </div>
                </app-iq-card>
            </div>

            <div class="col-md-12 animate__animated animate__fadeIn" [hidden]="!deliveryTimeStatistics">

                <app-iq-card>
                    <div card-header class="iq-header-title">
                      <h4 class="card-title">Monthly Performance</h4>
                    </div>
                    <div card-body id="chart"></div>
                </app-iq-card>

            </div>

        </div>

    </div>

    <div class="col-md-4 animate__animated animate__fadeIn" *ngIf="deliveries">

        <app-iq-card>
            <div card-header class="iq-header-title">
                <h4 class="card-title">Last Deliveries</h4>
            </div>
            <div card-header class="iq-card-header-toolbar d-flex align-items-center">
                <button class="btn btn-outline-primary btn-sm" [routerLink]="['/deliveries']">View All</button>
            </div>
            <ul class="iq-timeline">
                <li class="animate__animated animate__fadeIn" *ngFor="let delivery of deliveries">
                    <div class="timeline-dots "
                        [ngClass]="{ 'border-success': delivery.status == 2, 'border-danger': delivery.status == 3 }">
                    </div>
                    <div class="d-flex justify-content-between">
                        <h6>
                            <span>{{ delivery.name }} </span>
                            <span class="code">{{ delivery.order_id }}</span>
                            <span class="project">{{ delivery.project.name }}</span>
                        </h6>
                        <small>{{ delivery.finished_at | dateTz:delivery.utc_offset }}</small>
                    </div>
                    <div class="d-inline-block w-100">
                        <span class="note" *ngIf="delivery.note">"{{ delivery.note }}"</span>
                        <div class="iq-media-group" *ngIf="delivery.route.image">
                            <a href="javascript:void(0);" class="iq-media">
                                <img class="img-fluid avatar-40 rounded-circle" [src]="delivery.route.image"
                                    [viewerOptions]="{ navbar: false, toolbar: false }" ngxViewer>
                            </a>
                        </div>
                    </div>
                </li>
            </ul>
        </app-iq-card>

    </div>

</div>